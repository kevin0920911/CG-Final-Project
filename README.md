# Computer Graphics Final Project
**本文檔使用markdown格式撰寫，建議使用markdown檢視器，會有更好的體驗**
## Introduction
本程式使用OpenGL實現一個太空船遊戲，遊戲初始如下
- 生命值: 3
- 時間: 30 sec
- 遊戲獲勝條件: 存活30秒，同時擊落盡可能多的隕石，以獲得更高的分數。

## Manipulation
### 玩家操作
- 使用者須從鍵盤中以w,a,s,d,z,x,k操作太空船，以下為說明
    - w: 向上移動
    - a: 向左移動
    - s: 向下移動
    - d: 向右移動
    - z: 向後移動
    - x: 向前移動
    - k: 發射砲彈
### 選單
- 可使用選單進行特殊操作，以右鍵開啟
    - Game Resart: 遊戲重啟
    - End The Game: 遊戲結束，結束視窗
### 遊戲機制
- 遊戲開始時，玩家的太空船位於屏幕中央。太空船可以通過鍵盤控制上下左右移動，以及前進和後退。
- 隕石將從屏幕前方不斷前進，玩家必須避免與隕石相撞，否則將損失生命值。
    - 當玩家被隕石撞到會扣除生命值，並保證有0.5秒的無敵時間
- 玩家可以按下“k”鍵發射砲彈，以摧毀接近的隕石，分數會+1。砲彈將直線射出並與隕石碰撞時消失。
- 遊戲時間限制為30秒，倒計時結束後，遊戲將結束，並顯示玩家的分數。
- 生命值歸零，則任務失敗，分數也會歸零
## Code
### 投影法的選擇
- 使用俯視投影法實作
### 模型載入
- 太空船: 使用計算機圖學課堂中的太空船載入至程式當中，並使用`ObjLoad()`回傳模型給主程式當中
- 隕石: 使用`GL/glut.h`所提供的圓形載入
- 砲彈: 使用`GL/glut.h`所提供的圓形載入
### 模型的移動
- 隕石: 以`Point meteorite[10]`紀錄個點位置，並移動時交給`idle()`移動
- 太空船: 以`move_x, move_y, move_z `三變量處理，並交由`keyboard()`處理移動事宜
- 砲彈: 以`vector<point> bullets`紀錄個點位置，並移動時交給`idle()`移動
    - 發射時會加入到`bullets`，位置是太空船所在位置
### 文字的處理
- 使用老師在上課提供的`drawString()`與`selectFont()`並打包成header檔案
### 碰撞的判定
- 在這邊使用球體進行判斷
    - 兩物的距離不該小於兩球距離相加，是的話則判定碰撞，以下為實現的程式碼，距離函數`caluateDistance()`為自定義，算出真實兩目標的距離
    ```C++
    float distance = caluateDistance(x1, y1, z1, x2, y2, z2);
    if (distance < (Radius1 + Radius2)) {
        //碰撞成功處理
    }
    ```
